.items-container {
  flex: 1;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-gap: $p16;
  .items-to-bottom {
    align-self: flex-end;
  }
}

.item-container,
.item-container-behind {
  width: $p160;
  border: solid $p1 lighten($gray, 70%);
}

.item-container {
  background-color: white;
  position: relative;
  padding: $p16;
  text-align: center;
  &:hover {
    .item-container-behind {
      &:nth-of-type(1) {
        transform: rotate(2deg);
      }
      &:nth-of-type(2) {
        transform: rotate(4deg);
      }
    }
  }

  .item-container-behind {
    height: $p208 - $p2;
    background-color: $light-gray;
    position: absolute;
    background-color: white;
    border: solid $p1 lighten($gray, 70%);
    &:nth-of-type(1) {
      transform: rotate(1deg);
      z-index: -1;
      top: $p1;
      left: $p2;
    }
    &:nth-of-type(2) {
      transform: rotate(2deg);
      z-index: -2;
      top: $p2;
      left: $p4;
    }
  }

  .space {
    height: $p16;
  }

  .half-space {
    height: $p8;
  }

  .large-space {
    height: $p48;
  }

  .picture {
    display: block;
    width:  $p72;
    height: $p72;
    margin: 0 auto;
    opacity: 0.8;
  }

  .name {
    margin: 0;
    height:      $p16;
    line-height: $p16;
    color: lighten($gray, 20%);
    font-size: $p16;
    word-wrap: break-word;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .reference-count,
  .reference-count-small {
    font-size: $p16;
    color: lighten($gray, 40%);
  }

  .reference-count {
    margin: ($p4 + $p2) auto;
  }

  .reference-count-small {
    margin-top: ($p4 + $p2);
    margin-bottom: -($p8 + $p2)
  }

  .more {
    margin: 0 auto;
    margin-bottom: -$p12;
    width: 0;
    height: 0;
    border: solid $p8;
    border-top-color: lighten($gray, 70%);
    border-bottom-color: transparent;
    border-right-color: transparent;
    border-left-color: transparent;
    cursor: pointer;
  }

  .open {
    margin-top: -$p8;
    border-top-color: transparent;
    border-bottom-color: lighten($gray, 70%);
  }

  .item-action,
  .item-action-qty {
    width: 100%;
  }

  .input-with-unit {
    display: flex;
    margin: 0 $p24;
    border-bottom: solid $p1 lighten($gray, 70%);
    input {
      flex: 3;
      border: none;
      border-left-color: transparent;
      text-align: center;
      font-size: $p16 - $p2;
      color: lighten($gray, 60%);
    }
    div {
      flex: 1;
      span {
        font-size: $p16 - $p2;
        color: lighten($gray, 30%);
      }
    }
  }

  .submit-with-quantity {
    display: flex;
    input:first-child {
      flex: 2;
      margin-right: $p1;
    }
    input:last-child {
      flex: 3;
      margin-left: $p1;
    }
  }
}

.empty-reference {
  background-color: darken($light-gray, 2%);
}

.item-action,
.item-action-qty {
  width: $p112;
  height: $p32;
  padding: 0;
  border: none;
  color: white;
  font-size: $p16;
  text-align: center;
}

.item-action {
  cursor: pointer;
}

.item-action-all {
  display: block;
  margin: $p12 0;
}

.button-substitute {
  height: $p32;
  display: block;
  margin: $p12 0;
}

.create-item {
  background-color: $green;
}

.update-item {
  background-color: $yellow;
}

.delete-item {
  background-color: $red;
}

.pack-item {
  background-color: $blue;
}

.unpack-item {
  background-color: $orange;
}
